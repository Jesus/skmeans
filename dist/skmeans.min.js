/*! skmeans 2017-07-17 */

"use strict";!function r(n,t,o){function a(f,i){if(!t[f]){if(!n[f]){var u="function"==typeof require&&require;if(!i&&u)return u(f,!0);if(e)return e(f,!0);var v=new Error("Cannot find module '"+f+"'");throw v.code="MODULE_NOT_FOUND",v}var c=t[f]={exports:{}};n[f][0].call(c.exports,function(r){var t=n[f][1][r];return a(t||r)},c,c.exports,r,n,t,o)}return t[f].exports}for(var e="function"==typeof require&&require,f=0;f<o.length;f++)a(o[f]);return a}({1:[function(r,n,t){!function(n){var t=r("./main.js");n.skmeans=t}(window)},{"./main.js":2}],2:[function(r,n,t){function o(r,n,t){for(var o=r.length,a=0,e=0;e<o;e++){var f=(r[e]||0)-(n[e]||0);a+=f*f}return t?Math.sqrt(a):a}function a(r,n,t){var o=Math.abs(r-n);return t?o:o*o}function e(r,n){var t=this,e=r[0].length?o:a,f=[],i=r.length,u=r[Math.floor(Math.random()*i)];f.push(u);for(;f.length<n;)!function(){var n=r.map(function(r){var n=f.map(function(n){return e(r,n)});return Math.min.apply(t,n)}),o=n.reduce(function(r,n){return r+n},0),a=n.map(function(n,t){return{i:t,v:r[t],pr:n/o}});a.sort(function(r,n){return r.pr-n.pr}),a.forEach(function(r,n){r.cs=r.pr+(n>0?a[n-1].cs:0)});var i=Math.random(),u=a.filter(function(r){return r.cs>=i});f.push(u[0].v)}();return f}function f(r,n,t){t=t||[];for(var o=0;o<r;o++)t[o]=n;return t}var i=1e4;n.exports=function(r,n,t,a){var u=[],v=[],c=[],s=[],h=!1,p=a||i,l=r.length,m=r[0].length,d=m>0;if(t)u="kmpp"==t?e(r,n):t;else for(var M=0;M<n;M++)u.push(r[Math.floor(Math.random()*l)]);do{for(var g=0;g<l;g++){for(var x=1/0,k=0,q=0;q<n;q++)(s=d?o(r[g],u[q]):Math.abs(r[g]-u[q]))<x&&(x=s,k=q);c[g]=k}for(var w=[],b=[],v=[],y=0;y<n;y++)w[y]=0,b[y]=d?f(m,0,b[y]):0,v[y]=u[y];if(d){for(var E=0;E<n;E++)u[E]=[];for(var O=0;O<l;O++){for(var j=c[O],D=b[j],N=r[O],U=0;U<m;U++)D[U]+=N[U];w[j]++}h=!0;for(var _=0;_<n;_++){for(var C=u[_],F=b[_],L=v[_],T=w[_],z=0;z<m;z++)C[z]=F[z]/T||0;if(h)for(var A=0;A<m;A++)if(L[A]!=C[A]){h=!1;break}}}else{for(var B=0;B<l;B++){var G=c[B];b[G]+=r[B],w[G]++}for(var H=0;H<n;H++)u[H]=b[H]/w[H]||0;h=!0;for(var I=0;I<n;I++)if(v[I]!=u[I]){h=!1;break}}h=h||--p<=0}while(!h);return{it:i-p,k:n,idxs:c,centroids:u}}},{}]},{},[1]);