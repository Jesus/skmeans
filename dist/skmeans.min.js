/*! skmeans 2017-07-18 */

"use strict";!function r(t,n,a){function o(i,f){if(!n[i]){if(!t[i]){var s="function"==typeof require&&require;if(!f&&s)return s(i,!0);if(e)return e(i,!0);var u=new Error("Cannot find module '"+i+"'");throw u.code="MODULE_NOT_FOUND",u}var v=n[i]={exports:{}};t[i][0].call(v.exports,function(r){var n=t[i][1][r];return o(n||r)},v,v.exports,r,t,n,a)}return n[i].exports}for(var e="function"==typeof require&&require,i=0;i<a.length;i++)o(a[i]);return o}({1:[function(r,t,n){!function(t){var n=r("./main.js");t.skmeans=n}(window)},{"./main.js":4}],2:[function(r,t,n){t.exports={eudist:function(r,t,n){for(var a=r.length,o=0,e=0;e<a;e++){var i=(r[e]||0)-(t[e]||0);o+=i*i}return n?Math.sqrt(o):o},dist:function(r,t,n){var a=Math.abs(r-t);return n?a:a*a}}},{}],3:[function(r,t,n){var a=r("./distance.js"),o=a.eudist,e=a.dist;t.exports={kmrand:function(r,t){for(var n={},a=[],o=[],e=r.length,i=0;i<e;i++){var f=r[i],s=JSON.stringify(f);n[s]||(n[s]=!0,a.push(f))}if(t>a.length)throw new Error("Cluster size greater than distinct data points");for(var u=a.length,v={};o.length<t;){var c=Math.floor(Math.random()*u);v[c]||(v[c]=!0,o.push(a[c]))}return o},kmpp:function(r,t){var n=r[0].length?o:e,a=[],i=r.length,f=r[Math.floor(Math.random()*i)];for(a.push(f);a.length<t;){for(var s=[],u=a.length,v=0,c=[],h=0;h<i;h++){for(var d=1/0,p=0;p<u;p++){var l=n(r[h],a[p]);l<=d&&(d=l)}s[h]=d}for(var g=0;g<i;g++)v+=s[g];for(var m=0;m<i;m++)c[m]={i:m,v:r[m],pr:s[m]/v,cs:0};c.sort(function(r,t){return r.pr-t.pr}),c[0].cs=c[0].pr;for(var k=1;k<i;k++)c[k].cs=c[k-1].cs+c[k].pr;for(var M=Math.random(),j=0;j<i-1&&c[j++].cs>=M;);a.push(c[j-1].v)}return a}}},{"./distance.js":2}],4:[function(r,t,n){function a(r,t,n){n=n||[];for(var a=0;a<r;a++)n[a]=t;return n}var o=r("./distance.js"),e=r("./kinit.js"),i=o.eudist,f=(o.dist,e.kmrand),s=e.kmpp,u=1e4;t.exports=function(r,t,n,o){var e=[],v=[],c=[],h=[],d=!1,p=o||u,l=r.length,g=r[0].length,m=g>0;if(n)e="kmrand"==n?f(r,t):"kmpp"==n?s(r,t):n;else for(var k=0;k<t;k++)e.push(r[Math.floor(Math.random()*l)]);do{for(var M=0;M<l;M++){for(var j=1/0,x=0,w=0;w<t;w++)(h=m?i(r[M],e[w]):Math.abs(r[M]-e[w]))<=j&&(j=h,x=w);c[M]=x}for(var q=[],b=[],v=[],O=0;O<t;O++)q[O]=0,b[O]=m?a(g,0,b[O]):0,v[O]=e[O];if(m){for(var y=0;y<t;y++)e[y]=[];for(var E=0;E<l;E++){for(var N=c[E],C=b[N],D=r[N],U=0;U<g;U++)C[U]+=D[U];q[N]++}d=!0;for(var _=0;_<t;_++){for(var z=e[_],F=b[_],J=v[_],L=q[_],S=0;S<g;S++)z[S]=F[S]/L||0;if(d)for(var T=0;T<g;T++)if(J[T]!=z[T]){d=!1;break}}}else{for(var A=0;A<l;A++){var B=c[A];b[B]+=r[A],q[B]++}for(var G=0;G<t;G++)e[G]=b[G]/q[G]||0;d=!0;for(var H=0;H<t;H++)if(v[H]!=e[H]){d=!1;break}}d=d||--p<=0}while(!d);return{it:u-p,k:t,idxs:c,centroids:e}}},{"./distance.js":2,"./kinit.js":3}]},{},[1]);