/*! skmeans 2017-07-18 */

"use strict";!function r(t,n,a){function o(i,f){if(!n[i]){if(!t[i]){var s="function"==typeof require&&require;if(!f&&s)return s(i,!0);if(e)return e(i,!0);var u=new Error("Cannot find module '"+i+"'");throw u.code="MODULE_NOT_FOUND",u}var v=n[i]={exports:{}};t[i][0].call(v.exports,function(r){var n=t[i][1][r];return o(n||r)},v,v.exports,r,t,n,a)}return n[i].exports}for(var e="function"==typeof require&&require,i=0;i<a.length;i++)o(a[i]);return o}({1:[function(r,t,n){!function(t){var n=r("./main.js");t.skmeans=n}(window)},{"./main.js":4}],2:[function(r,t,n){t.exports={eudist:function(r,t,n){for(var a=r.length,o=0,e=0;e<a;e++){var i=(r[e]||0)-(t[e]||0);o+=i*i}return n?Math.sqrt(o):o},dist:function(r,t,n){var a=Math.abs(r-t);return n?a:a*a}}},{}],3:[function(r,t,n){var a=r("./distance.js"),o=a.eudist,e=a.dist;t.exports={kmrand:function(r,t){for(var n={},a=[],o=[],e=r.length,i=0;i<e;i++){var f=r[i],s=JSON.stringify(f);n[s]||(n[s]=!0,a.push(f))}if(t>a.length)throw new Error("Cluster size greater than distinct data points");for(var u=a.length,v={};o.length<t;){var h=Math.floor(Math.random()*u);v[h]||(v[h]=!0,o.push(a[h]))}return o},kmpp:function(r,t){var n=r[0].length?o:e,a=[],i=r.length,f=r[Math.floor(Math.random()*i)];for(a.push(f);a.length<t;){for(var s=[],u=a.length,v=0,h=[],c=0;c<i;c++){for(var d=1/0,p=0;p<u;p++){var l=n(r[c],a[p]);l<=d&&(d=l)}s[c]=d}for(var g=0;g<i;g++)v+=s[g];for(var m=0;m<i;m++)h[m]={i:m,v:r[m],pr:s[m]/v,cs:0};h.sort(function(r,t){return r.pr-t.pr}),h[0].cs=h[0].pr;for(var k=1;k<i;k++)h[k].cs=h[k-1].cs+h[k].pr;for(var M=Math.random(),j=0;j<i-1&&h[j++].cs>=M;);a.push(h[j-1].v)}return a}}},{"./distance.js":2}],4:[function(r,t,n){function a(r,t,n){n=n||[];for(var a=0;a<r;a++)n[a]=t;return n}var o=r("./distance.js"),e=r("./kinit.js"),i=o.eudist,f=(o.dist,e.kmrand),s=e.kmpp,u=1e4;t.exports=function(r,t,n,o){var e=[],v=[],h=[],c=[],d=!1,p=o||u,l=r.length,g=r[0].length,m=g>0;if(n)e="kmrand"==n?f(r,t):"kmpp"==n?s(r,t):n;else for(var k={};e.length<t;){var M=Math.floor(Math.random()*l);k[M]||(k[M]=!0,e.push(r[M]))}do{for(var j=0;j<l;j++){for(var x=1/0,w=0,q=0;q<t;q++)(c=m?i(r[j],e[q]):Math.abs(r[j]-e[q]))<=x&&(x=c,w=q);h[j]=w}for(var b=[],O=[],v=[],y=0;y<t;y++)b[y]=0,O[y]=m?a(g,0,O[y]):0,v[y]=e[y];if(m){for(var E=0;E<t;E++)e[E]=[];for(var N=0;N<l;N++){for(var C=h[N],D=O[C],U=r[C],_=0;_<g;_++)D[_]+=U[_];b[C]++}d=!0;for(var z=0;z<t;z++){for(var F=e[z],J=O[z],L=v[z],S=b[z],T=0;T<g;T++)F[T]=J[T]/S||0;if(d)for(var A=0;A<g;A++)if(L[A]!=F[A]){d=!1;break}}}else{for(var B=0;B<l;B++){var G=h[B];O[G]+=r[B],b[G]++}for(var H=0;H<t;H++)e[H]=O[H]/b[H]||0;d=!0;for(var I=0;I<t;I++)if(v[I]!=e[I]){d=!1;break}}d=d||--p<=0}while(!d);return{it:u-p,k:t,idxs:h,centroids:e}}},{"./distance.js":2,"./kinit.js":3}]},{},[1]);