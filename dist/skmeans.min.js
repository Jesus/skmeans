/*! skmeans 2017-07-17 */

"use strict";!function r(n,t,o){function a(e,i){if(!t[e]){if(!n[e]){var u="function"==typeof require&&require;if(!i&&u)return u(e,!0);if(f)return f(e,!0);var v=new Error("Cannot find module '"+e+"'");throw v.code="MODULE_NOT_FOUND",v}var c=t[e]={exports:{}};n[e][0].call(c.exports,function(r){var t=n[e][1][r];return a(t||r)},c,c.exports,r,n,t,o)}return t[e].exports}for(var f="function"==typeof require&&require,e=0;e<o.length;e++)a(o[e]);return a}({1:[function(r,n,t){!function(n){var t=r("./main.js");n.skmeans=t}(window)},{"./main.js":2}],2:[function(r,n,t){function o(r,n,t){for(var o=r.length,a=0,f=0;f<o;f++){var e=(r[f]||0)-(n[f]||0);a+=e*e}return t?Math.sqrt(a):a}function a(r,n,t){var o=Math.abs(r-n);return t?o:o*o}function f(r,n){var t={},o=[],a=[];r.forEach(function(r){var o=JSON.stringify(r);t[o]=t[n]||r});for(var f in t)o.push(t[f]);if(n>o.length)throw new Error("Cluster size greater than distinct data points");for(var e=r.length,t={},i=0;i<n;i++)for(var u=!1;!u;){var v=o[Math.floor(Math.random()*e)],f=JSON.stringify(v);t[f]||(a.push(v),t[f]=!0,u=!0)}return a}function e(r,n){var t=this,f=r[0].length?o:a,e=[],i=r.length,u=r[Math.floor(Math.random()*i)];e.push(u);for(;e.length<n;)!function(){var n=r.map(function(r){var n=e.map(function(n){return f(r,n)});return Math.min.apply(t,n)}),o=n.reduce(function(r,n){return r+n},0),a=n.map(function(n,t){return{i:t,v:r[t],pr:n/o}});a.sort(function(r,n){return r.pr-n.pr}),a.forEach(function(r,n){r.cs=r.pr+(n>0?a[n-1].cs:0)});var i=Math.random(),u=a.filter(function(r){return r.cs>=i});e.push(u[0].v)}();return e}function i(r,n,t){t=t||[];for(var o=0;o<r;o++)t[o]=n;return t}var u=1e4;n.exports=function(r,n,t,a){var v=[],c=[],s=[],h=[],p=!1,l=a||u,d=r.length,m=r[0].length,g=m>0;if(t)v="kmrand"==t?f(r,n):"kmpp"==t?e(r,n):t;else for(var M=0;M<n;M++)v.push(r[Math.floor(Math.random()*d)]);do{for(var w=0;w<d;w++){for(var k=1/0,x=0,q=0;q<n;q++)(h=g?o(r[w],v[q]):Math.abs(r[w]-v[q]))<=k&&(k=h,x=q);s[w]=x}for(var y=[],E=[],c=[],O=0;O<n;O++)y[O]=0,E[O]=g?i(m,0,E[O]):0,c[O]=v[O];if(g){for(var b=0;b<n;b++)v[b]=[];for(var N=0;N<d;N++){for(var j=s[N],C=E[j],D=r[j],J=0;J<m;J++)C[J]+=D[J];y[j]++}p=!0;for(var S=0;S<n;S++){for(var U=v[S],_=E[S],z=c[S],F=y[S],L=0;L<m;L++)U[L]=_[L]/F||0;if(p)for(var T=0;T<m;T++)if(z[T]!=U[T]){p=!1;break}}}else{for(var A=0;A<d;A++){var B=s[A];E[B]+=r[A],y[B]++}for(var G=0;G<n;G++)v[G]=E[G]/y[G]||0;p=!0;for(var H=0;H<n;H++)if(c[H]!=v[H]){p=!1;break}}p=p||--l<=0}while(!p);return{it:u-l,k:n,idxs:s,centroids:v}}},{}]},{},[1]);