/*! skmeans 2017-07-17 */

"use strict";!function r(n,t,o){function a(f,i){if(!t[f]){if(!n[f]){var u="function"==typeof require&&require;if(!i&&u)return u(f,!0);if(e)return e(f,!0);var v=new Error("Cannot find module '"+f+"'");throw v.code="MODULE_NOT_FOUND",v}var s=t[f]={exports:{}};n[f][0].call(s.exports,function(r){var t=n[f][1][r];return a(t||r)},s,s.exports,r,n,t,o)}return t[f].exports}for(var e="function"==typeof require&&require,f=0;f<o.length;f++)a(o[f]);return a}({1:[function(r,n,t){!function(n){var t=r("./main.js");n.skmeans=t}(window)},{"./main.js":2}],2:[function(r,n,t){function o(r,n,t){for(var o=r.length,a=0,e=0;e<o;e++){var f=(r[e]||0)-(n[e]||0);a+=f*f}return t?Math.sqrt(a):a}function a(r,n,t){var o=Math.abs(r-n);return t?o:o*o}function e(r,n){for(var t={},o=[],a=[],e=r.length,f=0;f<e;f++){var i=r[f],u=JSON.stringify(i);t[u]||(t[u]=!0,o.push(i))}if(n>o.length)throw new Error("Cluster size greater than distinct data points");for(var v=o.length,s={};a.length<n;){var c=Math.floor(Math.random()*v);s[c]||(s[c]=!0,a.push(o[c]))}return console.log(a),a}function f(r,n){var t=this,e=r[0].length?o:a,f=[],i=r.length,u=r[Math.floor(Math.random()*i)];f.push(u);for(;f.length<n;)!function(){var n=r.map(function(r){var n=f.map(function(n){return e(r,n)});return Math.min.apply(t,n)}),o=n.reduce(function(r,n){return r+n},0),a=n.map(function(n,t){return{i:t,v:r[t],pr:n/o}});a.sort(function(r,n){return r.pr-n.pr}),a.forEach(function(r,n){r.cs=r.pr+(n>0?a[n-1].cs:0)});var i=Math.random(),u=a.filter(function(r){return r.cs>=i});f.push(u[0].v)}();return f}function i(r,n,t){t=t||[];for(var o=0;o<r;o++)t[o]=n;return t}var u=1e4;n.exports=function(r,n,t,a){var v=[],s=[],c=[],h=[],l=!1,p=a||u,d=r.length,g=r[0].length,m=g>0;if(t)v="kmrand"==t?e(r,n):"kmpp"==t?f(r,n):t;else for(var M=0;M<n;M++)v.push(r[Math.floor(Math.random()*d)]);do{for(var w=0;w<d;w++){for(var k=1/0,x=0,q=0;q<n;q++)(h=m?o(r[w],v[q]):Math.abs(r[w]-v[q]))<=k&&(k=h,x=q);c[w]=x}for(var b=[],y=[],s=[],E=0;E<n;E++)b[E]=0,y[E]=m?i(g,0,y[E]):0,s[E]=v[E];if(m){for(var O=0;O<n;O++)v[O]=[];for(var N=0;N<d;N++){for(var j=c[N],C=y[j],D=r[j],U=0;U<g;U++)C[U]+=D[U];b[j]++}l=!0;for(var _=0;_<n;_++){for(var z=v[_],F=y[_],J=s[_],L=b[_],S=0;S<g;S++)z[S]=F[S]/L||0;if(l)for(var T=0;T<g;T++)if(J[T]!=z[T]){l=!1;break}}}else{for(var A=0;A<d;A++){var B=c[A];y[B]+=r[A],b[B]++}for(var G=0;G<n;G++)v[G]=y[G]/b[G]||0;l=!0;for(var H=0;H<n;H++)if(s[H]!=v[H]){l=!1;break}}l=l||--p<=0}while(!l);return{it:u-p,k:n,idxs:c,centroids:v}}},{}]},{},[1]);